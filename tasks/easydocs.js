/*!
 * tasks/easydocs.js
 * 
 * Copyright (c) 2014
 */

// lib
var _ = require('../lib/utils');
var data = require('../lib/data');


/* -----------------------------------------------------------------------------
 * task
 * ---------------------------------------------------------------------------*/

module.exports = function (grunt) {

  /* ---------------------------------------------------------------------------
   * load
   * -------------------------------------------------------------------------*/

  grunt.loadTasks(_.taskpath('grunt-easy-docs'));


  /* ---------------------------------------------------------------------------
   * data
   * -------------------------------------------------------------------------*/

  // raw data
  var options = data.json('build/docs');

  // get theme module from path
  if (options.theme) {
    options.theme = require(_.libpath(options.theme));
  }


  /* ---------------------------------------------------------------------------
   * config
   * -------------------------------------------------------------------------*/

  grunt.config('easydocs', {
    all: { options: options }
  });

};